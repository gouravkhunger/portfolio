<!DOCTYPE html>
<html>
<head>
<meta name="robots" content="noindex">
<link
  href="https://fonts.googleapis.com/css2?family=Sen&display=swap"
  rel="stylesheet">
<style>
body {
    font-family: "Sen", sans-serif;
    width: 100%;
}
.bg {
  position: relative;
  width: 100%;
  aspect-ratio: 16 / 9;
}
.content {
  display: flex;
  align-items: center;
  width: 100%;
}
.title {
  position: absolute;
  width: 50%;
  top: 40%;
  left: 9%;
  font-size: 48px;
  font-weight: bold;
  overflow: hidden;
   text-overflow: ellipsis;
   display: -webkit-box;
   -webkit-line-clamp: 3; /* number of lines to show */
           line-clamp: 3; 
   -webkit-box-orient: vertical;
}
.avatar {
  position: absolute;
  right: 7.5%;
  top: 40%;
  border-radius: 50%;
  width: 200px;
  height: 200px;
}
</style>
</head>
<body>

  <img src="bg.png" class="bg" />

  <div class="content">
    <span class="title"></span>

    <img class="avatar" src="bg.png" />
  </div>

</body>
<script src="html2canvas.min.js"></script>
<script>
  const urlParams = new URLSearchParams(window.location.search);
  
  var avatar = urlParams.get('avatar');
  var title = urlParams.get('title');

  var htmlTitle = document.getElementsByClassName("title")[0];
  var htmlAvatar = document.getElementsByClassName("avatar")[0];

  if(title){
    htmlTitle.innerHTML = title;
    htmlAvatar.src = avatar ? avatar : "https://avatars.githubusercontent.com/u/46792249?v=4";
    // Generate the image after 1 second
    setTimeout(function() {
      console.log("hi")
      html2canvas(document.body, { useCORS: true, scale: 2 }).then(canvas => {
        var dataURL = canvas.toDataURL("image/jpeg", 1.0);
        // download as image
        var link = document.createElement("a");
        link.download = "thumbnail.jpg";
        link.href = dataURL;
        link.click();
        link.remove();
      });
    }, 1000);
  }
</script>
</html> 
